[{"id":"aedd3eceb61647beed03f84417c79092","title":"Rebuild my hexo blog","content":"又又又一次重新在服务器上搭建Hexo Blog之旅记得上一次建hexo还是在上次，上上次建hexo还是在上上次。第一次建hexo的时候是在我的windows系统本地搭建的，当时就是觉得很不方便，如果说我没有再用这台电脑了呢？迁移就不是很方便，所以那一次的搭建结束后，很快我就终止使用了那个版本的blog。\n第二次建hexo博客是在今年年初，当时闲着无聊，而且正好想着我的一个国内服务器加域名快要到期了，怎么说也要好好白嫖到底，于是就自己琢磨着在服务器上搭了个hexo，同时通过nginx将我的域名设置到我的hexo博客，当时觉得用着还行，结果后续还是因为自己太懒了，于是进度就又荒废了。。。这点确实想吐槽死自己。\n第三次，也就是这次，博客会做成什么样呢？先让我总结一下这次的搭建过程吧！\n准备工作本次搭建博客，我的框架选择还是Hexo，http服务器选择Nginx，主题这次选择的是Aurora，个人觉得是一个非常不错的hexo主题，想要了解的可以去官网查看详细信息。\n服务器我选择的是Vultr的VPS，毕竟这样可以省去备案的功夫和时间，同时也更方便我学习其他更多的技能；域名是选择在Namesilo上购买的域名，毕竟相对于海外的其他几家来说它的.com域名更加便宜，但是需要吐槽的是域名控制面板看起来好老旧啊！\n本次搭建还需要的工具有，Git、NodeJS，Certbot等。啊对了，当然还有Github。那么接下来就让我们开始搭建属于自己的hexo博客吧！\n\n\n\n\n\n\n注意！\n由于这次我选择的服务器系统为Ubuntu20.0.4，所以接下来所有的操作都是默认在Ubuntu系统上的，其它系统应该也都是大同小异，不懂得地方一定要多Google呦！\n\n安装Git一般服务器初始默认都会包含有git，如果git version提示没有结果，请使用如下命令下载安装git，实在不懂可以去看官网的下载教程！\nsudo apt update\nsudo apt install git\ngit version\n\n安装NodeJSNodeJS的安装方法其实网络上也都可以搜到，这里我就简单介绍一下我的下载方式\ncurl -sL https://deb.nodesource.com/setup_14.x | sudo -E bash -\nsudo apt install nodejs\nnode -v\nnpm -v\n\n安装Hexonpm install -g hexo-cli\nhexo init &lt;your-blog-folder-name>\ncd &lt;your-blog-folder-name>\nnpm install\n上述命令执行完毕后，你可以执行hexo s命令本地运行hexo，访问http://your_ip_address:4000即可预览你的blog！\n\n\n\n\n\n\nTip\n如果你发现访问不了，请检查一下你的服务器防火墙是否有释放4000端口，检测方式如下\nsudo ufw status | grep 4000\nsudo ufw allow 4000\nsudo ufw status | grep 4000\n\n\n接下来我们要做的是配置一下hexo的配置文件，当然这里主要讲的是deploy的配置，其他配置请自行到Hexo官网查看修改！首先，vim打开根目录下的_config.yml文件，然后翻到最底部的deploy部分，将内容改成如下形式：\ndeploy:\n\ttype: git\n\trepo: https:&#x2F;&#x2F;github.com&#x2F;&lt;username&gt;&#x2F;&lt;project&gt;\n\tbranch: master\n\n\n\n\n\n\n\n\nTip\n\n首先，我们需要在自己github上创建一个仓库，这里详细步骤就不再赘述了，但是请注意，你的仓库名称一定要定义为&lt;github_username&gt;.github.io形式，具体为什么自己查阅！\n其次，我们需要在服务器上安装一个部署插件**npm install hexo-deployer-git --save**\n\n\n\n完成上述所有操作后，运行hexo clean &amp;&amp; hexo g &amp;&amp; hexo d，查看你的github仓库中此时是否已经有了内容，接着在浏览器地址栏输入&lt;github_username&gt;.github.io来查看是否已经部署成功即可！如果没有陈工可以选择如下操作：\n\n重装\n自行Google解决！\n\n到这里关于hexo的安装就已经结束了，后续更多操作，就麻烦自行去官网查看或者自行Google了！\n安装Aurora主题这里安装步骤其实官网都有，这里我就不过多赘述了，主要是要讲几点问题：\n\n安装完成后记得到_config.yml文件中把theme栏的主题名称改成aurora；\n如果说你在执行Hexo命令时遇到了一些scripts报错，直接重装主题即可，我这边卸载重装一次后就没有再报错且网站也显示正常了；\n记得也有修改_config.aurora.yml文件中的一些基础信息呦！\n\n通过Nginx代理域名转发Nginx的下载这里就不过多赘述了，主要讲一下配置文件的具体格式，格式如下：\nserver &#123;\n\tserver_name &lt;你的域名或者你的服务器ip或者localhost&gt;;\n\tlocation &#x2F; &#123;\n\t\troot &lt;你的hexo-blog文件地址&gt;&#x2F;public;\n\t\tindex index.html index.htm;\n\t&#125;\n&#125;\n\n目前为止配置加进去这个即可，记得加到http块中，然后你可以尝试在浏览器中输入你的域名访问看能否访问到，哦对了，访问之前，记得重启你的nginx服务器，操作如下：\nnginx -t\nnginx -s reload\n\n如果你发现访问成功了，接下来就可以为你的域名申请证书了，这里我使用的是Certbot，接下来讲一下如何操作——其实官网里也都有说\nsudo apt update\nsudo apt install snapd\nsudo snap install core; sudo snap refresh core\nsudo apt remove certbot\nsudo snap install --classic certbot\nsudo ln -s /snap/bin/certbot /usr/bin/certbot\nsudo certbot --nginx\n\n执行完上述最后一条命令，根据提示输入信息，随后再查看你的nginx配置文件，你就会发现多了一些证书信息，这个时候在你的域名前加上https并再次访问，查看是否访问成功！\n还有一点是，申请的证书有效期是三个月，所以在到期之前，你需要给你的证书更新一下，具体怎么做可以自行解决！我太懒了，就不在这里多说了！\n总结这一次其实还是踩了不少坑的，比如通过github pages想代理我的域名的时候，怎么解析都检测不到正确的dns，再比如现在好多教程都是教你在服务器上搭git仓库然后进行各种操作，我是不太懂啊，只是觉得怎么方便怎么来！希望这次能够坚持下去，学习！努力！赚钱！也当作记录美好生活吧。那么这篇blog就到这里结束了！\n","slug":"Build-My-Blog","date":"2022-07-08T08:05:23.000Z","categories_index":"Study","tags_index":"blog,hexo","author_index":"CrazyZPL"},{"id":"b9663f58f18133b35bfe243f3e916a80","title":"Hello World","content":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.\nQuick StartCreate a new post$ hexo new \"My New Post\"\n\nMore info: Writing\nRun server$ hexo server\n\nMore info: Server\nGenerate static files$ hexo generate\n\nMore info: Generating\nDeploy to remote sites$ hexo deploy\n\nMore info: Deployment\n","slug":"hello-world","date":"2022-07-07T07:55:18.743Z","categories_index":"","tags_index":"","author_index":"CrazyZPL"}]